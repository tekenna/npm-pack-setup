{"version":3,"file":"angular2-ladda.mjs","sources":["../../../projects/ladda/src/lib/ladda-config.ts","../../../projects/ladda/src/lib/ladda.directive.ts","../../../projects/ladda/src/lib/ladda.module.ts","../../../projects/ladda/src/public-api.ts","../../../projects/ladda/src/angular2-ladda.ts"],"sourcesContent":["import {Injectable} from \"@angular/core\";\n\nexport type LaddaStyle =\n    \"expand-left\" | \"expand-right\" | \"expand-up\" | \"expand-down\" |\n    \"contract\" | \"contract-overlay\" | \"zoom-in\" | \"zoom-out\" |\n    \"slide-left\" | \"slide-right\" | \"slide-up\" | \"slide-down\";\n\nexport abstract class LaddaConfigArgs {\n    style?: LaddaStyle;\n    spinnerSize?: number;\n    spinnerColor?: string;\n    spinnerLines?: number;\n}\n\n@Injectable()\nexport class LaddaConfig implements LaddaConfigArgs {\n    constructor(config: LaddaConfigArgs = {}) {\n        Object.assign(this, config);\n    }\n}\n","import {isPlatformBrowser} from '@angular/common';\nimport {Directive, ElementRef, Input, OnInit, OnDestroy, OnChanges, SimpleChanges, Optional, Inject, PLATFORM_ID} from '@angular/core';\nimport {create as createLadda, LaddaButton} from 'ladda';\nimport {LaddaConfig, LaddaConfigArgs} from './ladda-config';\n\nexport type LaddaValue = boolean | number | undefined | null;\n\n@Directive({\n    selector: '[ladda]',\n})\nexport class LaddaDirective implements OnInit, OnDestroy, OnChanges {\n    private el: HTMLButtonElement;\n    private ladda: LaddaButton | undefined = undefined;\n\n    @Input('ladda') loading: LaddaValue;\n    @Input() disabled = false;\n\n    constructor(\n        el: ElementRef,\n        @Inject(LaddaConfig) @Optional() config: LaddaConfigArgs,\n        @Inject(PLATFORM_ID) private platformId: Object,\n    ) {\n        this.el = el.nativeElement;\n\n        if (!config) {\n            return;\n        }\n\n        if (config.style && !this.el.getAttribute('data-style')) {\n            this.el.setAttribute('data-style', config.style);\n        }\n\n        if (config.spinnerSize && !this.el.getAttribute('data-spinner-size')) {\n            this.el.setAttribute('data-spinner-size', config.spinnerSize.toString());\n        }\n\n        if (config.spinnerColor && !this.el.getAttribute('data-spinner-color')) {\n            this.el.setAttribute('data-spinner-color', config.spinnerColor);\n        }\n\n        if (config.spinnerLines && !this.el.getAttribute('data-spinner-lines')) {\n            this.el.setAttribute('data-spinner-lines', config.spinnerLines.toString());\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (!this.ladda) {\n            return; // needed since ngOnChanges is called before ngOnInit\n        }\n\n        if (changes.loading) {\n            this.updateLadda(changes.loading.previousValue);\n        }\n\n        if (changes.disabled) {\n            this.updateDisabled();\n        }\n    }\n\n    ngOnInit() {\n        if (!isPlatformBrowser(this.platformId)) {\n            return;\n        }\n\n        this.ladda = createLadda(this.el);\n\n        // if the initial loading value isn't false, a timeout of 0 ms\n        // is necessary for the calculated spinner size to be correct.\n        setTimeout(() => {this.updateLadda(false);}, 0);\n    }\n\n    ngOnDestroy() {\n        if (this.ladda) {\n            this.ladda.remove();\n        }\n    }\n\n    private updateLadda(previousValue: LaddaValue): void {\n        if (!this.ladda) {\n            return;\n        }\n\n        let loading: boolean = typeof this.loading === 'number' || !!this.loading;\n        let wasLoading: boolean = typeof previousValue === 'number' || !!previousValue;\n\n        if (!loading) {\n            if (wasLoading) {\n                this.ladda.stop();\n            }\n\n            return this.updateDisabled();\n        }\n\n        if (!wasLoading) {\n            this.ladda.start();\n        }\n\n        if (typeof this.loading === 'number') {\n            this.ladda.setProgress(this.loading);\n        }\n    }\n\n    private updateDisabled(): void {\n        this.el.disabled = this.disabled;\n    }\n}\n","import {NgModule, ModuleWithProviders} from '@angular/core';\nimport {LaddaDirective} from './ladda.directive';\nimport {LaddaConfigArgs, LaddaConfig} from './ladda-config';\n\n@NgModule({\n    declarations: [LaddaDirective],\n    exports: [LaddaDirective],\n})\nexport class LaddaModule {\n    public static forRoot(config: LaddaConfigArgs): ModuleWithProviders<LaddaModule> {\n        return {\n            ngModule: LaddaModule,\n            providers: [\n                {provide: LaddaConfig, useValue: config},\n            ],\n        };\n    }\n}\n","/*\n * Public API Surface of ladda\n */\n\nexport * from './lib/ladda-config';\nexport * from './lib/ladda.directive';\nexport * from './lib/ladda.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["createLadda"],"mappings":"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"}